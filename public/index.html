<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Cycle: Reborn - Save Editor</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Custom Title Bar -->
    <div class="custom-title-bar">
        <div class="title-bar-title">The Cycle: Reborn - Save Editor</div>
        <div class="title-bar-controls" id="title-bar-controls">
            <!-- Window controls will be added by JavaScript if in Electron -->
        </div>
    </div>

    <div class="container">
        <div class="sidebar">
            <h2>FILTERS</h2>
            
            <div class="filter-section">
                <h3>Categories</h3>
                <button class="category-btn active" data-category="all">ALL</button>
                <button class="category-btn" data-category="weapons">WEAPONS</button>
                <button class="category-btn" data-category="ammo">AMMO</button>
                <button class="category-btn" data-category="armor">ARMOR</button>
                <button class="category-btn" data-category="consumables">CONSUMABLES</button>
                <button class="category-btn" data-category="materials">MATERIALS</button>
                <button class="category-btn" data-category="tools">TOOLS</button>
                <button class="category-btn" data-category="attachments">ATTACHMENTS</button>
            </div>

            <div class="filter-section">
                <h3>Actions</h3>
                <button class="filter-btn" id="add-item-btn">Browse Items</button>
                <button class="filter-btn" id="clear-inventory">Clear All</button>
                <button class="filter-btn" id="backup-save">Export Backup</button>
                <button class="filter-btn" id="restore-save">Import Backup</button>
            </div>

            <div class="filter-section">
                <h3>Game</h3>
                <button class="filter-btn" id="launch-game-btn">
                    <span id="launch-game-text">Launch Game</span>
                </button>
                <button class="filter-btn" id="configure-game-btn" style="display: none;">
                    Configure Game Path
                </button>
            </div>

            <div class="filter-section" id="update-section" style="display: none;">
                <h3>Updates</h3>
                <button class="filter-btn btn-update" id="check-updates-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 6px;">
                        <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
                    </svg>
                    Check Updates
                </button>
            </div>
       
        </div>

        <div class="main-content" id="main-content">
            <div class="header">
                <div class="header-left">
                    <h1>The Cycle: Reborn - Save Editor</h1>
                </div>
                <div class="header-right">
                    <div class="currency-display">
                        <div class="currency-item" id="aurum-display">
                            <div class="currency-icon" style="background-image: url('https://lxjo101.github.io/TheCycleRebornSaveEditor-Assets/icons/Aurum.png')"></div>
                            <input type="number" id="aurum-value" value="0" min="0" max="999999">
                        </div>
                        <div class="currency-item" id="kmarks-display">
                            <div class="currency-icon" style="background-image: url('https://lxjo101.github.io/TheCycleRebornSaveEditor-Assets/icons/K-Marks.png')"></div>
                            <input type="number" id="kmarks-value" value="0" min="0" max="999999">
                        </div>
                        <div class="currency-item" id="insurance-display">
                            <div class="currency-icon" style="background-image: url('https://lxjo101.github.io/TheCycleRebornSaveEditor-Assets/icons/InsuranceToken.png')"></div>
                            <input type="number" id="insurance-value" value="0" min="0" max="999999">
                        </div>
                    </div>
                    <div class="auto-save-indicator" id="auto-save-indicator">Auto-saved!</div>
                    <div class="header-buttons">
                        <button class="reload-btn" id="reload-all" title="Reload Inventory & Configs">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                            </svg>
                        </button>
                        <a href="https://github.com/lxjo101" target="_blank" class="github-link" title="Visit GitHub Profile">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <div class="search-container">
                <input type="text" class="search-input" id="search-items" placeholder="Search items by name or ID...">
            </div>

            <div id="inventory-container">
                <h3 style="color: #64ffda; margin-bottom: 15px;">Current Inventory (Stash)</h3>
                <div class="inventory-grid scrollbar-style" id="inventory-grid">
                    <div class="loading">
                        <div class="spinner"></div>
                        Connecting and loading inventory...
                    </div>
                </div>
            </div>

            <div id="available-items-container" style="display: none;">
                <h3 style="color: #64ffda; margin-bottom: 15px; margin-top: 30px;">Available Items</h3>
                <div class="available-items" id="available-items">
                    <!-- Available items will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for item details -->
    <div id="item-detail-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="item-detail-modal" id="modal-item-details">
                <!-- Item details will be populated here -->
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <span class="close" id="confirm-close">&times;</span>
            <div style="text-align: center;">
                <h2 style="color: #ff6b6b; margin-bottom: 20px;">Confirm Deletion</h2>
                <p id="confirm-message" style="margin-bottom: 30px; color: #e0e0e0;"></p>
                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button class="btn btn-danger" id="confirm-yes">Yes, Delete</button>
                    <button class="btn btn-primary" id="confirm-no">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <div class="status-bar">
        <div class="status-text" id="status-text">Auto-connecting to database...</div>
        <div class="status-center">
            <span style="color: rgba(160, 174, 192, 0.6); font-size: 0.8em;">made by lxjo</span>
        </div>
        <div class="connection-status">
            <div class="status-indicator" id="connection-indicator"></div>
            <span id="connection-text">Connecting...</span>
        </div>
    </div>

    <script src="script.js"></script>

</body>
</html>